.page {
  display: grid;
  gap: var(--s-5);
}

.meta {
  color: var(--muted);
}

.formCard {
  display: grid;
  gap: var(--s-5);
  padding: var(--s-6);
}

.fieldset {
  margin: 0;
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: var(--s-4);
  display: grid;
  gap: var(--s-3);
  background: color-mix(in srgb, var(--surface) 84%, var(--surface-2));
}

.fieldset legend {
  font-size: var(--text-sm);
  font-weight: var(--weight-semibold);
  color: var(--text);
  padding: 0 var(--s-2);
}

.field {
  display: grid;
  gap: var(--s-2);
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
}

.field :is(input, select, textarea) {
  width: 100%;
  min-height: var(--s-8);
  padding: var(--s-3) var(--s-4);
  border-radius: var(--r-md);
  border: 1px solid var(--border);
  background: var(--surface);
  transition: border-color var(--dur-fast) var(--ease), box-shadow var(--dur-fast) var(--ease), background-color var(--dur-fast) var(--ease);
}

.field textarea {
  resize: vertical;
  min-height: 7rem;
}

.field :is(input, select, textarea):focus-visible {
  outline: 2px solid color-mix(in srgb, var(--primary) 58%, var(--surface));
  outline-offset: 2px;
  border-color: color-mix(in srgb, var(--primary) 35%, var(--border));
  box-shadow: var(--focus);
}

.invalid {
  border-color: color-mix(in srgb, var(--danger) 70%, var(--border));
  background: color-mix(in srgb, var(--danger) 5%, var(--surface));
}

.inlineGrid {
  display: grid;
  gap: var(--s-3);
  grid-template-columns: 1fr;
}

.coordError {
  display: block;
}

.locationActions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--s-2);
}

.aiActionRow {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-start;
  gap: var(--s-2);
}

.routeToggleRow {
  display: inline-flex;
  align-items: center;
  gap: var(--s-2);
  font-weight: var(--weight-semibold);
}

.routeToggleRow input[type='checkbox'] {
  width: 1rem;
  min-height: 1rem;
  height: 1rem;
  margin: 0;
  accent-color: var(--primary);
}

.routeMapWrap {
  overflow: hidden;
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  background: var(--surface);
}

.routeMap {
  height: 18rem;
  width: 100%;
}

.submit {
  justify-self: start;
}

@media (min-width: 768px) {
  .inlineGrid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (prefers-reduced-motion: reduce) {
  .field :is(input, select, textarea) {
    transition: none;
  }
}
