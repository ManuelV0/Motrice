.page {
  display: grid;
  gap: var(--section-gap);
  width: 100%;
  max-width: 34rem;
  margin-inline: auto;
  overflow-x: clip;
}

.page * {
  min-width: 0;
}

.backRow {
  display: flex;
  align-items: center;
}

.backLink {
  display: inline-flex;
  align-items: center;
  gap: var(--s-2);
  color: var(--muted);
  text-decoration: none;
  font-size: var(--text-sm);
  font-weight: var(--weight-semibold);
  transition: color var(--dur-fast) var(--ease);
}

.backLink:hover {
  color: var(--text);
}

.backLink svg {
  width: 1rem;
  height: 1rem;
}

.heroCard {
  display: grid;
  gap: var(--s-4);
  padding: var(--s-5);
  border: 1px solid color-mix(in srgb, var(--primary) 20%, var(--glass-border));
  border-radius: var(--r-2xl);
  background:
    radial-gradient(120% 120% at 100% 0%, color-mix(in srgb, var(--primary) 10%, var(--surface)) 0%, transparent 58%),
    color-mix(in srgb, var(--surface) 80%, var(--surface-2));
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  box-shadow: var(--sh-card);
  text-align: center;
  justify-items: center;
}

.ringWrap {
  position: relative;
  width: 8.5rem;
  height: 8.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

.ringSvg {
  width: 100%;
  height: 100%;
  transform: rotate(-90deg);
}

.ringTrack {
  fill: none;
  stroke: color-mix(in srgb, var(--glass-border) 60%, var(--surface));
  stroke-width: 6;
}

.ringFill {
  fill: none;
  stroke-width: 6;
  stroke-linecap: round;
  transition: stroke-dashoffset 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.ringCenter {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.15rem;
}

.ringXpValue {
  margin: 0;
  font-size: var(--text-xl);
  font-weight: var(--weight-bold);
  color: var(--text);
  line-height: 1;
}

.ringXpLabel {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted);
  font-weight: var(--weight-medium);
}

.badgeCard {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--s-3);
  padding: var(--s-3) var(--s-4);
  border: 1px solid color-mix(in srgb, var(--primary) 28%, var(--glass-border));
  border-radius: var(--r-pill);
  background:
    radial-gradient(ellipse at center, color-mix(in srgb, var(--primary) 14%, var(--surface)) 0%, color-mix(in srgb, var(--primary) 6%, var(--surface)) 100%);
  box-shadow:
    0 0 20px color-mix(in srgb, var(--primary) 12%, transparent),
    var(--sh-inner);
  animation: badgePulse 3s ease-in-out infinite;
}

@keyframes badgePulse {
  0%, 100% { box-shadow: 0 0 16px color-mix(in srgb, var(--primary) 10%, transparent), var(--sh-inner); }
  50% { box-shadow: 0 0 28px color-mix(in srgb, var(--primary) 20%, transparent), var(--sh-inner); }
}

.badgeCard svg {
  color: color-mix(in srgb, var(--primary) 76%, var(--text));
}

.badgeName {
  margin: 0;
  font-size: var(--text-base);
  font-weight: var(--weight-bold);
  color: color-mix(in srgb, var(--primary) 78%, var(--text));
}

.progressHint {
  margin: 0;
  font-size: var(--text-sm);
  color: var(--muted);
}

.sectionCard {
  display: grid;
  gap: var(--s-3);
  padding: var(--s-4);
  border: 1px solid var(--glass-border);
  border-radius: var(--r-xl);
  background: color-mix(in srgb, var(--surface-2) 40%, var(--surface));
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  box-shadow: var(--sh-inner);
}

.sectionHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--s-2);
}

.sectionHeader h2 {
  margin: 0;
  font-size: var(--text-base);
}

.toggleBtn {
  min-height: 1.85rem;
  padding: 0 var(--s-3);
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-2) 74%, var(--surface));
  color: var(--text);
  font-size: var(--text-xs);
  font-weight: var(--weight-semibold);
  cursor: pointer;
}

.toggleBtn:hover {
  border-color: color-mix(in srgb, var(--primary) 34%, var(--border));
}

.barList {
  display: grid;
  gap: var(--s-3);
}

.barItem {
  display: grid;
  gap: var(--s-1);
}

.barLabel {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--s-2);
}

.barLabel span {
  margin: 0;
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
}

.barLabel strong {
  margin: 0;
  font-size: var(--text-sm);
  color: color-mix(in srgb, var(--primary) 76%, var(--text));
}

.barTrack {
  height: 0.55rem;
  border-radius: var(--r-pill);
  border: 1px solid color-mix(in srgb, var(--glass-border) 80%, var(--surface));
  background: color-mix(in srgb, var(--surface-2) 60%, var(--surface));
  overflow: hidden;
}

.barFill {
  display: block;
  height: 100%;
  border-radius: inherit;
  transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.barFillColor0 {
  background: linear-gradient(90deg, color-mix(in srgb, var(--primary) 72%, var(--surface)) 0%, color-mix(in srgb, var(--accent) 52%, var(--primary)) 100%);
}
.barFillColor1 {
  background: linear-gradient(90deg, color-mix(in srgb, var(--accent) 72%, var(--surface)) 0%, color-mix(in srgb, var(--accent) 90%, var(--primary)) 100%);
}
.barFillColor2 {
  background: linear-gradient(90deg, color-mix(in srgb, var(--primary) 50%, var(--surface)) 0%, color-mix(in srgb, var(--primary) 80%, var(--surface)) 100%);
}
.barFillColor3 {
  background: linear-gradient(90deg, color-mix(in srgb, var(--warning, #f59e0b) 60%, var(--surface)) 0%, color-mix(in srgb, var(--warning, #f59e0b) 80%, var(--surface)) 100%);
}
.barFillColor4 {
  background: linear-gradient(90deg, color-mix(in srgb, var(--success, #22c55e) 60%, var(--surface)) 0%, color-mix(in srgb, var(--success, #22c55e) 80%, var(--surface)) 100%);
}

.emptyBar {
  margin: 0;
  padding: var(--s-3);
  border: 1px dashed var(--border);
  border-radius: var(--r-md);
  color: var(--muted);
  font-size: var(--text-sm);
}

.timeline {
  display: grid;
  gap: 0;
  position: relative;
}

.timelineItem {
  display: flex;
  gap: var(--s-3);
  padding: var(--s-3) 0;
  position: relative;
}

.timelineItem:not(:last-child)::before {
  content: '';
  position: absolute;
  left: 0.9rem;
  top: calc(var(--s-3) + 1.85rem);
  bottom: 0;
  width: 2px;
  background: color-mix(in srgb, var(--glass-border) 70%, var(--surface));
}

.timelineDot {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 1.85rem;
  height: 1.85rem;
  border-radius: 50%;
  flex-shrink: 0;
  border: 2px solid color-mix(in srgb, var(--primary) 30%, var(--glass-border));
  background: color-mix(in srgb, var(--primary) 10%, var(--surface));
  z-index: 1;
}

.timelineDot svg {
  width: 0.85rem;
  height: 0.85rem;
  color: color-mix(in srgb, var(--primary) 70%, var(--text));
}

.timelineDotPositive {
  border-color: color-mix(in srgb, var(--success, #22c55e) 40%, var(--glass-border));
  background: color-mix(in srgb, var(--success, #22c55e) 12%, var(--surface));
}

.timelineDotPositive svg {
  color: color-mix(in srgb, var(--success, #22c55e) 70%, var(--text));
}

.timelineDotNegative {
  border-color: color-mix(in srgb, var(--error, #ef4444) 40%, var(--glass-border));
  background: color-mix(in srgb, var(--error, #ef4444) 12%, var(--surface));
}

.timelineDotNegative svg {
  color: color-mix(in srgb, var(--error, #ef4444) 70%, var(--text));
}

.timelineContent {
  display: grid;
  gap: 0.15rem;
  min-width: 0;
  flex: 1;
  padding-top: 0.15rem;
}

.timelineTitle {
  margin: 0;
  font-size: var(--text-sm);
  font-weight: var(--weight-semibold);
}

.timelineMeta {
  display: flex;
  align-items: center;
  gap: var(--s-2);
}

.timelinePoints {
  margin: 0;
  font-size: var(--text-xs);
  font-weight: var(--weight-bold);
}

.timelinePointsPositive {
  color: color-mix(in srgb, var(--success, #22c55e) 70%, var(--text));
}

.timelinePointsNegative {
  color: color-mix(in srgb, var(--error, #ef4444) 70%, var(--text));
}

.timelineDate {
  margin: 0;
  font-size: var(--text-xs);
  color: var(--muted);
}

.emptyTimeline {
  margin: 0;
  padding: var(--s-3);
  border: 1px dashed var(--border);
  border-radius: var(--r-md);
  color: var(--muted);
  font-size: var(--text-sm);
}

.reliabilityWrap {
  display: grid;
  gap: var(--s-3);
  padding: var(--s-4);
  border: 1px solid color-mix(in srgb, var(--accent) 18%, var(--glass-border));
  border-radius: var(--r-xl);
  background:
    radial-gradient(120% 100% at 0% 0%, color-mix(in srgb, var(--accent) 8%, var(--surface)) 0%, transparent 60%),
    color-mix(in srgb, var(--surface-2) 40%, var(--surface));
}

.reliabilityValue {
  margin: 0;
  font-size: var(--text-sm);
}

.reliabilityBar {
  height: 0.5rem;
  border-radius: var(--r-pill);
  border: 1px solid color-mix(in srgb, var(--glass-border) 84%, var(--surface));
  background: color-mix(in srgb, var(--surface-2) 60%, var(--surface));
  overflow: hidden;
}

.reliabilityBar span {
  display: block;
  height: 100%;
  border-radius: inherit;
  background: linear-gradient(
    90deg,
    color-mix(in srgb, var(--accent) 72%, var(--surface)) 0%,
    color-mix(in srgb, var(--accent) 90%, var(--primary)) 100%
  );
  transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.reliabilityMetrics {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--s-2);
}

.reliabilityMetrics p {
  margin: 0;
  display: grid;
  gap: 0.1rem;
  text-align: center;
  padding: var(--s-2);
  border: 1px solid var(--glass-border);
  border-radius: var(--r-md);
  background: color-mix(in srgb, var(--surface-2) 50%, var(--surface));
  font-size: var(--text-xs);
}

.reliabilityMetrics p span {
  color: var(--muted);
}

.reliabilityMetrics p strong {
  font-size: var(--text-base);
}

@media (max-width: 480px) {
  .heroCard {
    padding: var(--s-4);
  }

  .ringWrap {
    width: 7rem;
    height: 7rem;
  }

  .ringXpValue {
    font-size: var(--text-lg);
  }

  .sectionCard {
    padding: var(--s-3);
  }
}
